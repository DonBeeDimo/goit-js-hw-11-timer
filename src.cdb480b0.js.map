{"version":3,"sources":["index.js"],"names":["refs","days","document","querySelector","hours","mins","secs","startBtn","stopBtn","calendar","CountdownTimer","constructor","selector","targetDate","intervalId","isActive","start","getValueCalendar","alert","Date","getTime","setInterval","currentTime","now","deltaTime","updateClockface","stop","clearInterval","time","pad","Math","floor","textContent","value","String","padStart","timer","addEventListener","bind"],"mappings":";;;AAwEA,aAxEA,QAAA,oBAEA,MAAMA,EAAO,CACTC,KAAMC,SAASC,cAAc,uBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,KAAMH,SAASC,cAAc,uBAC7BG,KAAMJ,SAASC,cAAc,uBAC7BI,SAAUL,SAASC,cAAc,yBACjCK,QAASN,SAASC,cAAc,wBAChCM,SAAUP,SAASC,cAAc,cAGrC,MAAMO,EACFC,aAAY,SAACC,EAAD,WAAWC,IACdD,KAAAA,SAAWA,EACXC,KAAAA,WAAaA,EACbC,KAAAA,WAAa,KACbC,KAAAA,UAAW,EAGpBC,QACO,GAAA,KAAKD,SACJ,OAGD,IAAC,KAAKE,mBACEC,OAAAA,MAAM,wBAGZH,KAAAA,UAAW,EACVF,MAAAA,EAAa,IAAIM,KAAK,KAAKF,oBAAoBG,UAEhDN,KAAAA,WAAaO,YAAY,KACpBC,MAAAA,EAAcH,KAAKI,MACnBC,EAAYX,EAAaS,EAC1BG,KAAAA,gBAAgBD,IACtB,KAGPE,OACIC,cAAc,KAAKb,YACdC,KAAAA,UAAW,EACXU,KAAAA,gBAAgB,GAGzBA,gBAAgBG,GACN3B,MAAAA,EAAO,KAAK4B,IAAIC,KAAKC,MAAMH,EAAQ,QACnCxB,EAAQ,KAAKyB,IAAIC,KAAKC,MAAOH,EAAQ,MAAyB,OAC9DvB,EAAO,KAAKwB,IAAIC,KAAKC,MAAOH,EAAQ,KAAoB,MACxDtB,EAAO,KAAKuB,IAAIC,KAAKC,MAAOH,EAAQ,IAAc,MAExD5B,EAAKC,KAAK+B,YAAc/B,EACxBD,EAAKI,MAAM4B,YAAc5B,EACzBJ,EAAKK,KAAK2B,YAAc3B,EACxBL,EAAKM,KAAK0B,YAAc1B,EAG5BuB,IAAII,GACOC,OAAAA,OAAOD,GAAOE,SAAS,EAAG,KAGrClB,mBACWjB,OAAAA,EAAKS,SAASwB,OAI7B,MAAMG,EAAQ,IAAI1B,EAAe,CAC7BE,SAAU,WACVC,WAAY,IAAIM,KAAK,kBAGzBnB,EAAKO,SAAS8B,iBAAiB,QAASD,EAAMpB,MAAMsB,KAAKF,IACzDpC,EAAKQ,QAAQ6B,iBAAiB,QAASD,EAAMV,KAAKY,KAAKF","file":"src.cdb480b0.js","sourceRoot":"..\\src","sourcesContent":["import './sass/main.scss';\r\n\r\nconst refs = {\r\n    days: document.querySelector('[data-value=\"days\"]'),\r\n    hours: document.querySelector('[data-value=\"hours\"]'),\r\n    mins: document.querySelector('[data-value=\"mins\"]'),\r\n    secs: document.querySelector('[data-value=\"secs\"]'),\r\n    startBtn: document.querySelector('[data-action=\"start\"]'),\r\n    stopBtn: document.querySelector('[data-action=\"stop\"]'),\r\n    calendar: document.querySelector('.calendar')\r\n}\r\n\r\nclass CountdownTimer {\r\n    constructor({selector, targetDate}) {\r\n        this.selector = selector;\r\n        this.targetDate = targetDate;\r\n        this.intervalId = null;\r\n        this.isActive = false;   \r\n    }\r\n\r\n    start() {\r\n        if(this.isActive) {\r\n            return;\r\n        }\r\n\r\n        if(!this.getValueCalendar()) {\r\n            return alert('Сначала укажите дату');\r\n        }\r\n\r\n        this.isActive = true;\r\n        const targetDate = new Date(this.getValueCalendar()).getTime() \r\n\r\n        this.intervalId = setInterval(() => {\r\n            const currentTime = Date.now();\r\n            const deltaTime = targetDate - currentTime;\r\n            this.updateClockface(deltaTime);\r\n        }, 1000); \r\n    }\r\n\r\n    stop () {\r\n        clearInterval(this.intervalId);\r\n        this.isActive = false;\r\n        this.updateClockface(0);\r\n    }\r\n\r\n    updateClockface(time) {\r\n        const days = this.pad(Math.floor(time / (1000 * 60 * 60 * 24)));\r\n        const hours = this.pad(Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));\r\n        const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\r\n        const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\r\n\r\n        refs.days.textContent = days;\r\n        refs.hours.textContent = hours;\r\n        refs.mins.textContent = mins;\r\n        refs.secs.textContent = secs;  \r\n      };\r\n\r\n    pad(value) {\r\n        return String(value).padStart(2, '0');\r\n    }\r\n\r\n    getValueCalendar() {\r\n        return refs.calendar.value;\r\n    }\r\n}\r\n\r\nconst timer = new CountdownTimer({\r\n    selector: '#timer-1',\r\n    targetDate: new Date('Jul 17, 2019'),\r\n  });\r\n\r\nrefs.startBtn.addEventListener('click', timer.start.bind(timer));\r\nrefs.stopBtn.addEventListener('click', timer.stop.bind(timer));"]}